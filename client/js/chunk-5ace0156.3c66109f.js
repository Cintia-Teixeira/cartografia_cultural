(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ace0156"],{"0850":function(t,e,s){"use strict";var i=s("4166"),a=s.n(i);a.a},"0e51":function(t,e,s){"use strict";var i=s("6bc5"),a=s.n(i);a.a},4166:function(t,e,s){},"4abd":function(t,e,s){"use strict";var i=s("938e"),a=s.n(i);a.a},"6a00":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topics-page"},[s("q-layout",{attrs:{view:"lHh Lpr lff",container:""}},[s("q-drawer",{attrs:{"show-if-above":"",width:257,breakpoint:400},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("div",{staticClass:"drawer-layout"},[s("logo-card"),s("div",{staticClass:"aside-actions"},[s("div",{staticClass:"aside-filter-options"},t._l(t.options,(function(e,i){return s("div",{key:i,staticClass:"filter-options-item",on:{click:function(s){t.currentFilter=e.value}}},[s("span",{staticClass:"body-3",class:{"selected-effect":t.currentFilter===e.value},attrs:{id:"filter-item"}},[t._v(" "+t._s(e.label)+" ")])])})),0),s("div",{staticClass:"aside-filter-search",attrs:{role:"search"}},[s("q-input",{attrs:{label:"Procurar",square:"",dense:"",color:"black"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"bolder text-black",attrs:{name:"search",size:"xs"}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("div",{staticClass:"aside-filter-btn"},[t.$store.getters["getAuth"]?t._e():s("base-button",{staticClass:"btn-signup",attrs:{theme:"primary"},on:{click:function(e){return t.$router.push({name:"SignIn"})}}},[s("span",{staticClass:"caption bolder text-white"},[t._v("Participar")])]),t.$store.getters["getAuth"]?s("base-button",{staticClass:"row no-wrap al-items-center",attrs:{theme:"primary"},on:{click:function(e){return t.$router.push({name:"CreateTopic"})}}},[s("span",{staticClass:"body-2 bolder text-white"},[t._v(" + ")]),s("span",{staticClass:"caption bolder text-white"},[t._v(" adicionar um novo debate ")])]):t._e()],1)])],1)]),s("q-page-container",[s("q-page",{staticStyle:{"max-width":"1100px"},attrs:{padding:""}},[s("topics-list")],1)],1)],1)],1)},a=[],o=s("5530"),n=s("5935"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topics-list"},[0==t.topics.length?i("div",{staticClass:"null-state column"},[i("img",{attrs:{src:s("f474")}}),t._m(0),i("span",{staticClass:"body-2 bolder"},[t._v("você pode ser o primeiro")])]):i("div",{staticClass:"content"},[i("masonry",{staticClass:"grid",attrs:{cols:{default:3,1200:3,1130:2,600:1},gutter:{default:"16px",1200:"4px",1130:"8px",600:"4px"}}},t._l(t.topics,(function(t){return i("topic-item",{key:t.id,ref:"users",refInFor:!0,attrs:{topic:t}})})),1)],1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"body-2 bolder"},[s("strong",[t._v("Ops!")]),t._v(" ainda não possuimos diálogos abertos.")])}],l=(s("4de4"),s("2f62")),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"my-card",style:{"background-color":t.category(t.topic.categoryId).color},attrs:{square:""},on:{click:function(e){return t.emitThisTopic()}}},[s("q-card-section",{staticClass:"card"},[s("div",{staticClass:"big-title bolder text-white",attrs:{id:"title",title:t.topic.title}},[t._v(" "+t._s(t.mask(t.topic.title,30))+" ")]),s("div",{staticClass:"bolder mg-top16 text-white"},[t._v(" "+t._s(t.category(t.topic.categoryId).label)+" ")]),s("div",{staticClass:"row al-items-center text-white caption"},[s("span",{},[t._v(" "+t._s(t.topic.user.firstName)+" "+t._s(t.topic.user.lastName)+" ")]),s("span",{staticClass:"mg-left16"},[t._v(" "+t._s(t.formatDate(t.topic.createdAt))+" ")])])]),s("q-card-section",{staticClass:"card-description"},[s("p",{staticClass:"text-white"},[t._v(" "+t._s(t.mask(t.topic.content,120))+" ")])]),s("q-card-section",{staticClass:"card"},[s("div",{staticClass:"thumbs"},[s("q-icon",{attrs:{name:"fa fa-thumbs-up"}}),s("span",{staticClass:"votesPercent"},[t._v(" "+t._s(t.supportsPercentage(!0))+"% ")]),s("q-icon",{attrs:{name:"fa fa-thumbs-down"}}),s("span",{staticClass:"votesPercent"},[t._v(" "+t._s(t.supportsPercentage(!1))+"% ")])],1),s("div",{staticClass:"supports-comments caption"},[s("span",{staticClass:"supports"},[t._v(" "+t._s(t.topic.positiveSupports+t.topic.negativeSupports)+" "+t._s(" "+(t.topic.positiveSupports+t.topic.negativeSupports===1?"Apoio":"Apoios"))+" ")]),t._v(" | "),s("span",{staticClass:"comments"},[t._v(" "+t._s(t.topic.numberOfReplies)+" "+t._s(" "+(1===t.topic.numberOfReplies?"Comentário":"Comentários"))+" ")])])])],1)},u=[],d=(s("96cf"),s("1da1")),m={name:"TopicItem",props:{topic:{type:Object,default:function(){return{}}}},computed:Object(o["a"])({},Object(l["d"])({categories:"categories/loadCategories",formatDate:"formatDate",category:"categories/getCategoryById"})),methods:Object(o["a"])(Object(o["a"])({},Object(l["c"])("topics",["localLoadCurrentTopic","localLoadCurrentTopicReplyes"])),{},{emitThisTopic:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("topics/SET_CURRENT_TOPIC",this.topic),this.$router.push({name:"TopicPage",params:{topicId:this.topic.id}});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),supportsPercentage:function(t){var e=parseInt(this.topic.positiveSupports,10),s=parseInt(this.topic.negativeSupports,10),i=parseInt(e+s,10);return!0===t?i?parseInt(e/i*100,10):0:i?parseInt(s/i*100,10):0},mask:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return t.length>e?t.substring(0,e)+"...":t}})},f=m,h=(s("0850"),s("2877")),b=s("fe09"),v=Object(h["a"])(f,p,u,!1,null,"10d55fcd",null),g=v.exports;v.options.components=Object.assign(Object.create(v.options.components||null),v.options.components||{},{QCard:b["d"],QCardSection:b["e"],QIcon:b["p"]});var C={components:{TopicItem:g},props:{filter:{type:String,default:function(){return"mostRecents"}}},data:function(){return{loading:!1,topicsLoaded:[],filterOption:[],currentFilter:"mostRecents",lastFilter:"mostRecents",streamCount:0}},computed:Object(o["a"])(Object(o["a"])({},Object(l["d"])({topics:"topics/loadTopicsFiltered"})),{},{hasAnyFilter:function(){var t=!1;return 0!==this.filter.length&&(t=!0),t}}),mounted:function(){this.$store.dispatch("topics/loadTopics"),this.$nextTick((function(){window.addEventListener("scroll",this.onScroll),this.onScroll()}))},beforeUnmount:function(){},methods:{changeFilter:function(t){t!==this.lastFilter&&(this.currentFilter=t,this.lastFilter=t,this.streamCount=0,this.getInitialTopics(t))},getInitialTopics:function(t){var e=this;this.$store.dispatch("topics/loadInitialTopics",{type:t,streamCount:0}).then((function(t){e.streamCount=1,e.topicsLoaded.push(t.data)}))["catch"]((function(t){return t}))},getMoreTopics:function(){var t=this;this.$store.dispatch("topics/loadMoreTopics",{type:this.currentFilter,streamCount:this.streamCount}).then((function(e){t.streamCount+=1,t.topicsLoaded.push(e.data)}))["catch"]((function(t){return t}))},onScroll:function(){var t=this;window.onscroll=function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&t.getMoreTopics()}}}},_=C,y=(s("9fd4"),Object(h["a"])(_,c,r,!1,null,"20976218",null)),w=y.exports,T=s("82ea"),k=Object(n["a"])({getterType:"topics/getField",mutationType:"topics/updateField"}),x=k.mapFields,O={name:"TopicsPage",components:{TopicsList:w,BaseButton:T["a"]},data:function(){return{drawer:!1,newEvent:"",filterTypeSelected:"mostRecent",search:"",options:[{label:"Mais ativos",value:"mostActive",color:"black"},{label:"Mais comentados",value:"mostAnswed",color:"black"},{label:"Novos",value:"mostRecent",color:"black"}]}},computed:Object(o["a"])(Object(o["a"])({},x(["search","currentFilter"])),{},{allTopics:function(){var t=this.$store.getters.eventsFiltered;return t}}),methods:{signUp:function(){this.$router.push({name:"SignUp"})},filterThis:function(t){this.filterTypeSelected=t}}},j=O,I=(s("4abd"),Object(h["a"])(j,i,a,!1,null,"5aed62a4",null));e["default"]=I.exports;I.options.components=Object.assign(Object.create(I.options.components||null),I.options.components||{},{QLayout:b["v"],QBtn:b["c"],QDrawer:b["l"],QInput:b["r"],QIcon:b["p"],QPageContainer:b["y"],QPage:b["x"]})},"6bc5":function(t,e,s){},"7aa8":function(t,e,s){},"82ea":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.to?s("router-link",{staticClass:"base-button",class:[t.theme,{disabled:t.disabled}],attrs:{to:t.to}},[t._t("default")],2):s("button",{staticClass:"base-button",class:[t.theme,{disabled:t.disabled}],on:{click:t.emitClick}},[t._t("default")],2)},a=[],o={props:{to:{type:Object,default:null},theme:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],methods:{emitClick:function(){this.$emit("click")}}},n=o,c=(s("0e51"),s("2877")),r=Object(c["a"])(n,i,a,!1,null,"89747364",null);e["a"]=r.exports},"938e":function(t,e,s){},"9fd4":function(t,e,s){"use strict";var i=s("7aa8"),a=s.n(i);a.a},f474:function(t,e,s){t.exports=s.p+"img/pixeltrue-idea.199bfd20.png"}}]);
//# sourceMappingURL=chunk-5ace0156.3c66109f.js.map