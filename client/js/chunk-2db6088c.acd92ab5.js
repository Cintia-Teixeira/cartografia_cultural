(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2db6088c"],{"0adb":function(t,e,s){"use strict";var i=s("a040"),o=s.n(i);o.a},"0ae7":function(t,e,s){},"124c":function(t,e,s){"use strict";var i=s("0ae7"),o=s.n(i);o.a},"2c1c":function(t,e,s){"use strict";var i=s("bbf1"),o=s.n(i);o.a},"41fb":function(t,e,s){},"6a00":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-page topics-page"},[s("div",{staticClass:"topics-page-aside"},[s("logo-card"),t.handleResize?s("div",{staticClass:"aside-actions"},[s("div",{staticClass:"aside-filter-options"},t._l(t.options,(function(e,i){return s("div",{key:i,staticClass:"filter-options-item",on:{click:function(s){t.currentFilter=e.value}}},[s("span",{staticClass:"body-3",class:{"selected-effect":t.currentFilter===e.value},attrs:{id:"filter-item"}},[t._v(" "+t._s(e.label)+" ")])])})),0),s("div",{staticClass:"aside-filter-search"},[s("q-input",{attrs:{label:"Procurar",square:"",dense:"",color:"black"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"bolder text-black",attrs:{name:"search",size:"xs"}})]},proxy:!0}],null,!1,2303654239),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("div",{staticClass:"aside-filter-create-topic"},[s("base-button",{staticClass:"row no-wrap al-items-center",attrs:{theme:"primary"},on:{click:function(e){return t.$router.push({name:"CreateTopic"})}}},[s("span",{staticClass:"body-2 bolder text-white"},[t._v(" + ")]),s("span",{staticClass:"caption bolder text-white"},[t._v(" adicionar um novo debate ")])])],1)]):t._e()],1),t.handleResize?s("div",{staticClass:"filter-mobile"},[s("span",{staticClass:"body-2 bolder"},[t._v(" + ")])]):t._e(),s("div",{staticClass:"content"},[t.handleResize?s("q-scroll-area",{staticClass:"scrollArea",attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[s("topics-list")],1):t._e()],1)])},o=[],a=s("5530"),n=s("5935"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topics-list"},[0==t.topics.length?i("div",{staticClass:"null-state column"},[i("img",{attrs:{src:s("f474")}}),t._m(0),i("span",{staticClass:"body-2 bolder"},[t._v("você pode ser o primeiro")])]):i("div",{staticClass:"content"},[i("masonry",{staticClass:"grid",attrs:{cols:{default:3,1200:3,1130:2,600:1},gutter:{default:"16px",1200:"4px",1130:"8px",600:"4px"}}},t._l(t.topics,(function(t){return i("topic-item",{key:t.id,ref:"users",refInFor:!0,attrs:{topic:t}})})),1)],1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"body-2 bolder"},[s("strong",[t._v("Ops!")]),t._v(" ainda não possuimos diálogos abertos.")])}],l=(s("4de4"),s("2f62")),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"my-card",style:{"background-color":t.category(t.topic.categoryId).color},attrs:{square:""},on:{click:function(e){return t.emitThisTopic()}}},[s("q-card-section",{staticClass:"card"},[s("div",{staticClass:"big-title bolder text-white",attrs:{id:"title"}},[t._v(" "+t._s(t.topic.title)+" ")]),s("div",{staticClass:"caption bolder mg-top16 text-white"},[t._v(" "+t._s(t.category(t.topic.categoryId).label)+" ")]),s("div",{staticClass:"row al-items-center mg-top8 text-white"},[s("span",{staticClass:"body-3 bolder"},[t._v(" "+t._s(t.topic.user.firstName+" "+t.topic.user.lastName)+" ")]),s("span",{staticClass:"caption bold mg-left16"},[t._v(" "+t._s(t.formatDate(t.topic.createdAt))+" ")])])]),s("multicolor-line",{staticClass:"multicolor-line-top"}),s("q-card-section",{staticClass:"card"},[s("div",{staticClass:"body-2 bolder text-white"},[t._v(" "+t._s(t.topic.content)+" ")])]),s("q-card-section",{staticClass:"card row no-wrap justify-between"},[s("div",[s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(t.topic.positiveSupports+t.topic.negativeSupports)+" ")]),s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(" "+(t.topic.positiveSupports+t.topic.negativeSupports===1?"voto":"votos"))+" ")])]),s("div",[s("q-icon",{attrs:{name:"far fa-thumbs-up"}}),s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(t.supportsPercentage(!0))+"% ")])],1),s("div",[s("q-icon",{attrs:{name:"far fa-thumbs-down"}}),s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(t.supportsPercentage(!1))+"% ")])],1),s("div",[s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(t.topic.numberOfReplies)+" ")]),s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(" "+(1===t.topic.numberOfReplies?"comentário":"comentários"))+" ")])])])],1)},u=[],d=(s("a4d3"),s("e01a"),s("99af"),s("96cf"),s("1da1")),m={name:"TopicItem",props:{topic:{type:Object,default:function(){return{}}}},computed:Object(a["a"])(Object(a["a"])({},Object(l["d"])({categories:"categories/loadCategories",formatDate:"formatDate",category:"categories/getCategoryById"})),{},{formatDescription:function(){var t=150,e=this.topic.content;return e.length>t?e.substring(0,t).concat("..."):this.topic.description}}),methods:Object(a["a"])(Object(a["a"])({},Object(l["c"])("topics",["localLoadCurrentTopic","localLoadCurrentTopicReplyes"])),{},{emitThisTopic:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("topics/SET_CURRENT_TOPIC",this.topic),this.$router.push({name:"TopicPage",params:{topicId:this.topic.id}});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),supportsPercentage:function(t){var e=parseInt(this.topic.positiveSupports,10),s=parseInt(this.topic.negativeSupports,10),i=parseInt(e+s,10);return!0===t?i?parseInt(e/i*100,10):0:i?parseInt(s/i*100,10):0}})},b=m,f=(s("e98b"),s("2877")),h=s("fe09"),v=Object(f["a"])(b,p,u,!1,null,"062805d1",null),C=v.exports;v.options.components=Object.assign(Object.create(v.options.components||null),v.options.components||{},{QCard:h["d"],QCardSection:h["e"],QIcon:h["o"]});var g={components:{TopicItem:C},props:{filter:{type:String,default:function(){return"mostRecents"}}},data:function(){return{loading:!1,topicsLoaded:[],filterOption:[],currentFilter:"mostRecents",lastFilter:"mostRecents",streamCount:0}},computed:Object(a["a"])(Object(a["a"])({},Object(l["d"])({topics:"topics/loadTopicsFiltered"})),{},{hasAnyFilter:function(){var t=!1;return 0!==this.filter.length&&(t=!0),t}}),mounted:function(){this.$store.dispatch("topics/loadTopics"),this.$nextTick((function(){window.addEventListener("scroll",this.onScroll),this.onScroll()}))},beforeUnmount:function(){},methods:{changeFilter:function(t){t!==this.lastFilter&&(this.currentFilter=t,this.lastFilter=t,this.streamCount=0,this.getInitialTopics(t))},getInitialTopics:function(t){var e=this;this.$store.dispatch("topics/loadInitialTopics",{type:t,streamCount:0}).then((function(t){e.streamCount=1,e.topicsLoaded.push(t.data)}))["catch"]((function(t){return t}))},getMoreTopics:function(){var t=this;this.$store.dispatch("topics/loadMoreTopics",{type:this.currentFilter,streamCount:this.streamCount}).then((function(e){t.streamCount+=1,t.topicsLoaded.push(e.data)}))["catch"]((function(t){return t}))},onScroll:function(){var t=this;window.onscroll=function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&t.getMoreTopics()}}}},_=g,y=(s("124c"),Object(f["a"])(_,c,r,!1,null,"16322b3a",null)),w=y.exports,x=s("82ea"),O=Object(n["a"])({getterType:"topics/getField",mutationType:"topics/updateField"}),T=O.mapFields,k={name:"TopicsPage",components:{TopicsList:w,BaseButton:x["a"]},data:function(){return{newEvent:"",options:[{label:"Mais ativos",value:"mostActive",color:"black"},{label:"Mais Comentados",value:"mostAnswed",color:"black"},{label:"Novos",value:"mostRecent",color:"black"}],thumbStyle:{right:"0px",top:"16px",borderRadius:"0px",backgroundColor:"#111111",width:"9px",heigth:"8px",opacity:.75},barStyle:{right:"0px",top:"16px",borderRadius:"0px",backgroundColor:"#eeeeee",width:"9px",opacity:.2}}},computed:Object(a["a"])(Object(a["a"])({},T(["search","currentFilter"])),{},{allTopics:function(){var t=this.$store.getters.eventsFiltered;return t}}),created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},unmounted:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){var t=window.innerWidth;return!(t>600)}}},j=k,R=(s("0adb"),Object(f["a"])(j,i,o,!1,null,"d0d74b62",null));e["default"]=R.exports;R.options.components=Object.assign(Object.create(R.options.components||null),R.options.components||{},{QInput:h["q"],QIcon:h["o"],QScrollArea:h["x"]})},"82ea":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.to?s("router-link",{staticClass:"base-button",class:[t.theme,{disabled:t.disabled}],attrs:{to:t.to}},[t._t("default")],2):s("button",{staticClass:"base-button",class:[t.theme,{disabled:t.disabled}],on:{click:t.emitClick}},[t._t("default")],2)},o=[],a={props:{to:{type:Object,default:null},theme:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],methods:{emitClick:function(){this.$emit("click")}}},n=a,c=(s("2c1c"),s("2877")),r=Object(c["a"])(n,i,o,!1,null,"2aaf335a",null);e["a"]=r.exports},a040:function(t,e,s){},bbf1:function(t,e,s){},e98b:function(t,e,s){"use strict";var i=s("41fb"),o=s.n(i);o.a},f474:function(t,e,s){t.exports=s.p+"img/pixeltrue-idea.f8cc604c.png"}}]);
//# sourceMappingURL=chunk-2db6088c.acd92ab5.js.map