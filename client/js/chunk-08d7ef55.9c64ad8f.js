(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08d7ef55"],{"124c":function(t,e,s){"use strict";var i=s("dfa5"),a=s.n(i);a.a},"2c1c":function(t,e,s){"use strict";var i=s("fac0"),a=s.n(i);a.a},"2d2f":function(t,e,s){},"5a66":function(t,e,s){"use strict";var i=s("2d2f"),a=s.n(i);a.a},"6a00":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-page topics-page"},[s("div",{staticClass:"topics-page-aside"},[s("logo-card"),t.handleResize?s("div",{staticClass:"aside-actions"},[s("div",{staticClass:"aside-filter-options"},t._l(t.options,(function(e,i){return s("div",{key:i,staticClass:"filter-options-item",on:{click:function(s){t.currentFilter=e.value}}},[s("span",{staticClass:"body-3",class:{"selected-effect":t.currentFilter===e.value},attrs:{id:"filter-item"}},[t._v(" "+t._s(e.label)+" ")])])})),0),s("div",{staticClass:"aside-filter-search"},[s("q-input",{attrs:{label:"Procurar",square:"",dense:"",color:"black"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"bolder text-black",attrs:{name:"search",size:"xs"}})]},proxy:!0}],null,!1,2303654239),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("div",{staticClass:"aside-filter-create-topic"},[s("base-button",{staticClass:"row no-wrap al-items-center",attrs:{theme:"primary"},on:{click:function(e){return t.createNewTopic()}}},[s("span",{staticClass:"body-2 bolder text-white"},[t._v(" + ")]),s("span",{staticClass:"caption bolder text-white"},[t._v(" insira um novo diálogo ")])])],1)]):t._e()],1),t.handleResize?s("div",{staticClass:"filter-mobile"},[s("span",{staticClass:"body-2 bolder"},[t._v(" + ")])]):t._e(),s("div",{staticClass:"content"},[t.handleResize?s("q-scroll-area",{staticClass:"scrollArea",attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[s("topics-list")],1):t._e()],1)])},a=[],o=s("5530"),c=s("5935"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topics-list"},[0==t.topics.length?i("div",{staticClass:"null-state column"},[i("img",{attrs:{src:s("f474")}}),t._m(0),i("span",{staticClass:"body-2 bolder"},[t._v("você pode ser o primeiro")])]):i("div",{staticClass:"content"},[i("masonry",{staticClass:"grid",attrs:{cols:{default:3,1200:3,1130:2,600:1},gutter:{default:"16px",1200:"4px",1130:"8px",600:"4px"}}},t._l(t.topics,(function(t){return i("topic-item",{key:t.id,ref:"users",refInFor:!0,attrs:{topic:t}})})),1)],1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"body-2 bolder"},[s("strong",[t._v("Ops!")]),t._v(" ainda não possuimos diálogos abertos.")])}],l=(s("4de4"),s("2f62")),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topic-item",style:{"background-color":t.category(t.topic.categoryId).color},on:{click:function(e){return t.emitThisTopic()}}},[s("div",{staticClass:"card column"},[s("span",{staticClass:"big-title bolder",attrs:{id:"title"}},[t._v(" "+t._s(t.topic.title)+" ")]),s("span",{staticClass:"caption bolder mg-top16"},[t._v(" "+t._s(t.category(t.topic.categoryId).label)+" ")]),s("div",{staticClass:"row al-items-center mg-top8"},[s("span",{staticClass:"body-3 bolder"},[t._v(" "+t._s(t.topic.user.firstName+" "+t.topic.user.lastName)+" ")]),s("span",{staticClass:"caption bold mg-left16"},[t._v(" "+t._s(t.formatDate(t.topic.createdAt))+" ")])]),s("span",{staticClass:"caption bold mg-top16"},[t._v(" "+t._s(t.formatDescription)+" ")]),s("div",{staticClass:"row no-wrap justify-between mg-top32"},[s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(t.topic.positiveSupports+t.topic.negativeSupports)+" votos ")]),s("div",{staticClass:"stats-item"},[s("i",{staticClass:"far fa-thumbs-up"}),s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(t.supportsPercentage(!0))+"% ")])]),s("div",{staticClass:"stats-item"},[s("q-icon",{staticClass:"vote-icon",attrs:{name:"far fa-thumbs-down",size:"xs"}}),s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(t.supportsPercentage(!1))+"% ")])],1),s("span",{staticClass:"caption bolder"},[t._v(" "+t._s(t.topic.numberOfReplies)+" comentários ")])])])])},u=[],d=(s("a4d3"),s("e01a"),s("99af"),s("96cf"),s("1da1")),f={name:"TopicItem",props:{topic:{type:Object,default:function(){return{}}}},computed:Object(o["a"])(Object(o["a"])({},Object(l["d"])({categories:"categories/loadCategories",formatDate:"formatDate",category:"categories/getCategoryById"})),{},{formatDescription:function(){var t=150,e=this.topic.content;return e.length>t?e.substring(0,t).concat("..."):this.topic.description}}),methods:Object(o["a"])(Object(o["a"])({},Object(l["c"])("topics",["localLoadCurrentTopic","localLoadCurrentTopicReplyes"])),{},{emitThisTopic:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("topics/SET_CURRENT_TOPIC",this.topic),this.$router.push({name:"TopicPage",params:{topicId:this.topic.id}});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),supportsPercentage:function(t){var e=parseInt(this.topic.positiveSupports,10),s=parseInt(this.topic.negativeSupports,10),i=parseInt(e+s,10);return!0===t?i?parseInt(e/i*100,10):0:i?parseInt(s/i*100,10):0}})},m=f,h=(s("5a66"),s("2877")),b=Object(h["a"])(m,p,u,!1,null,"63fede58",null),v=b.exports,g={components:{TopicItem:v},props:{filter:{type:String,default:function(){return"mostRecents"}}},data:function(){return{loading:!1,topicsLoaded:[],filterOption:[],currentFilter:"mostRecents",lastFilter:"mostRecents",streamCount:0}},computed:Object(o["a"])(Object(o["a"])({},Object(l["d"])({topics:"topics/loadTopicsFiltered"})),{},{hasAnyFilter:function(){var t=!1;return 0!==this.filter.length&&(t=!0),t}}),mounted:function(){this.$store.dispatch("topics/loadTopics"),this.$nextTick((function(){window.addEventListener("scroll",this.onScroll),this.onScroll()}))},beforeUnmount:function(){},methods:{changeFilter:function(t){t!==this.lastFilter&&(this.currentFilter=t,this.lastFilter=t,this.streamCount=0,this.getInitialTopics(t))},getInitialTopics:function(t){var e=this;this.$store.dispatch("topics/loadInitialTopics",{type:t,streamCount:0}).then((function(t){e.streamCount=1,e.topicsLoaded.push(t.data)}))["catch"]((function(t){return t}))},getMoreTopics:function(){var t=this;this.$store.dispatch("topics/loadMoreTopics",{type:this.currentFilter,streamCount:this.streamCount}).then((function(e){t.streamCount+=1,t.topicsLoaded.push(e.data)}))["catch"]((function(t){return t}))},onScroll:function(){var t=this;window.onscroll=function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&t.getMoreTopics()}}}},C=g,_=(s("124c"),Object(h["a"])(C,n,r,!1,null,"16322b3a",null)),y=_.exports,w=s("82ea"),T=Object(c["a"])({getterType:"topics/getField",mutationType:"topics/updateField"}),x=T.mapFields,k={name:"TopicsPage",components:{TopicsList:y,BaseButton:w["a"]},data:function(){return{newEvent:"",options:[{label:"Mais ativos",value:"mostActive",color:"black"},{label:"Mais Comentados",value:"mostAnswed",color:"black"},{label:"Novos",value:"mostRecent",color:"black"}],thumbStyle:{right:"0px",top:"16px",borderRadius:"0px",backgroundColor:"#111111",width:"9px",heigth:"8px",opacity:.75},barStyle:{right:"0px",top:"16px",borderRadius:"0px",backgroundColor:"#eeeeee",width:"9px",opacity:.2}}},computed:Object(o["a"])(Object(o["a"])({},x(["search","currentFilter"])),{},{allTopics:function(){var t=this.$store.getters.eventsFiltered;return t}}),created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},unmounted:function(){window.removeEventListener("resize",this.handleResize)},methods:{createNewTopic:function(){this.$router.push({name:"CreateTopic"})},handleResize:function(){var t=window.innerWidth;return!(t>600)}}},O=k,j=(s("7c1c"),Object(h["a"])(O,i,a,!1,null,"27e5c492",null));e["default"]=j.exports},"7c1c":function(t,e,s){"use strict";var i=s("d22b"),a=s.n(i);a.a},"82ea":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.to?s("router-link",{staticClass:"base-button",class:[t.theme,{disabled:t.disabled}],attrs:{to:t.to}},[t._t("default")],2):s("button",{staticClass:"base-button",class:[t.theme,{disabled:t.disabled}],on:{click:t.emitClick}},[t._t("default")],2)},a=[],o={props:{to:{type:Object,default:null},theme:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],methods:{emitClick:function(){this.$emit("click")}}},c=o,n=(s("2c1c"),s("2877")),r=Object(n["a"])(c,i,a,!1,null,"2aaf335a",null);e["a"]=r.exports},d22b:function(t,e,s){},dfa5:function(t,e,s){},f474:function(t,e,s){t.exports=s.p+"img/pixeltrue-idea.f8cc604c.png"},fac0:function(t,e,s){}}]);
//# sourceMappingURL=chunk-08d7ef55.9c64ad8f.js.map